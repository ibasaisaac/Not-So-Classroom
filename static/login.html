<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
        crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <link rel="stylesheet" href="./login.css">
    <title>Not So Classroom</title>
</head>

<body>
    <div class="container-fluid bg">
        <div class="row content">
            <div class="col-md-8">
                <form class="form-container" style="font-family: comfortaa;" action="/auth" method="post">
                    <h3 class="text-center mb-3">Welcome back!</h3>

                    <div class="form-group mb-3">
                        <label for="email">Email</label>
                        <div class="input-group">
                            <input type="text" id="email" name="email" required class="form-control"
                                style="border-radius:0;">
                            <div class="input-group-append">
                                <span class="input-group-text" style="border-radius:0;">@iut-dhaka.edu</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group mb-3">
                        <label for="password">Password</label>
                        <input type="password" id="password" name="password" required class="form-control"
                            style="border-radius:0;">
                        <div class="mt-0" style="font-family: actor;">
                            <button type="submit" id="forget_button" formaction="/send_forget_otp" class="btn btn-sm" data-toggle="modal"
                                data-target="#forgetModal">Forgot your password?</button>
                        </div>
                    </div>

                    <label for="sessionsave" class="mb-2" style="font-size: 13px; font-family: actor;">
                        <input type="checkbox" id="sessionsave" name="sessionsave" value="1"> Keep me logged in
                    </label>

                    <div class="text-center mb-3">
                        <button type="submit" name="login_button" class="btn btn-light btn-lg bt">Login</button>
                    </div>

                    <div>
                        Need an account? <a href="./register.html">Register</a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="forgetModal">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-body">
                    <iframe id="myFrame" src="./forget_pop.html"></iframe>
                </div>
            </div>
        </div>
    </div>
</body>

<!-- forget password shouldn't require password field -->
<!-- <script>
    $('#login_button').click(function () {
        $('#password').attr('required');
        $('#loginform').append('<input type="hidden" name="login_button" />');
        $('#loginform').submit();
    });
</script> -->
<script>
    $(document).ready(function () {
        $(window).load(function () {
            $("#forget_button").click(function () {
                $('#forgetModal').modal('show');
            });
        });
        $("#myFrame2").load(function () {
            var doc = this.contentDocument || this.contentWindow.document;
            var target = doc.getElementById("pop_submit_button");
            target.onclick = function () {
                $('#forgetModal').modal('hide');
            }
        });
    });
</script>

</html>