<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
        crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <link href="./register.css" rel="stylesheet">
    <title>Not So Classroom</title>
</head>

<body>
    <div class="container-fluid bg">
        <div class="row content">
            <div class="col-md-8">
                <form class="form-container" style="font-family: comfortaa;" action="/validate_register_form" method="post">
                    <h3 class="text-center mb-4">Create an account</h3>

                    <div class="form-group mb-3">
                        <label for="id">Student ID</label>
                        <input type="number" id="id" name="id" pattern=".{11}" required class="form-control" style="border-radius:0;">
                    </div>

                    <div class="form-group mb-3">
                        <label for="email">Email</label>
                        <div class="input-group">
                            <input type="text" id="email" name="email" required class="form-control"
                                style="border-radius:0;">
                            <div class="input-group-append">
                                <span class="input-group-text" style="border-radius:0;">@iut-dhaka.edu</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group mb-3">
                        <label for="username">Username</label>
                        <input type="text" id="username" name="username" required class="form-control"
                            style="border-radius:0;">
                    </div>

                    <div class="form-group mb-4">
                        <label for="password">Password</label>
                        <input type="password" minlength="8" maxlength="15" id="password" name="password" required
                            class="form-control" style="border-radius:0;">
                    </div>

                    <label class="mb-2" style="font-size: 13px; font-family: actor;">
                        <input type="checkbox" id="check" required> By registering, you are agree to our Terms of
                        Service and
                        Privacy Policy.
                    </label>

                    <div class="d-grid col-12 mb-3">
                        <button type="submit" id="submit-button" class="btn btn-light btn-md btn-block bt"
                            data-toggle="modal" data-target="#verificationModal">Continue</button>
                    </div>

                    <div style="font-size: 13px;">
                        <a href="./login.html">Already have an account? </a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="verificationModal">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-body">
                    <iframe id="myFrame" src="./verification_pop.html"></iframe>
                </div>
            </div>
        </div>
    </div>
</body>


<script>
    $(document).ready(function () {
        $(window).load(function () {
            $("#submit-button").click(function () {
                $('#verificationModal').modal('show');
            });
        });
        $("#myFrame").load(function () {
            var doc = this.contentDocument || this.contentWindow.document;
            var target = doc.getElementById("pop_submit_button");
            target.onclick = function () {
                $('#verificationModal').modal('hide');
            }
        });
    });
</script>

<!-- <script>
    $(document).ready(function () {
        $(window).load(function () {
            console.log("loaded donno");
            $("#submit-button").click(function () {
                // if ($("#id").val() != "" && $("#email").val() != "" && $("#username").val() != "" && $("#password").val() != "") {
                $('#verificationModal').modal('show');
                // $(this).closest("form").submit();
                // }
            });
            // $("#myFrame").contents().find("#pop_submit_button").click(function () {
            //     $('#verificationModal').modal('hide');
            // });
        });
        $("#myFrame").load(function () {
            console.log("loaded frame");
            var doc = this.contentDocument || this.contentWindow.document;
            var target = doc.getElementById("pop_submit_button");
            console.log("Found It");
            $(target).click(function () {
                console.log("clicked");
                $('#verificationModal').modal('hide');
            });
            // target.onclick = function () {
    //         console.log("clicked");
    //         modal.style.display = "none";
    //         // $('#verificationModal').modal('hide');
    //     }
        });
    });

    // function access() {
    //     console.log("loaded");
    //     var iframe = document.getElementById("myFrame");
    //     var innerDoc = iframe.contentDocument || iframe.contentWindow.document;
    //     var elmnt = innerDoc.getElementsById("pop_submit_button");
    //     var modal = document.getElementsById("verificationModal");
    //     elmnt.onclick = function () {
    //         console.log("clicked");
    //         modal.style.display = "none";
    //         // $('#verificationModal').modal('hide');
    //     }
    // }
</script> -->

</html>